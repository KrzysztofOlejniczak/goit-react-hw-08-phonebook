"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[498],{9498:function(e,n,t){t.r(n),t.d(n,{default:function(){return D}});var r=t(2791),a=t(4554),i=t(8383),o=t(3466),c=t(3400),s=t(5403),l=t(9434),u=t(4808),d=t(184),m=function(){var e=(0,l.I0)();return(0,d.jsx)(a.Z,{component:"form",onChange:function(n){var t=n.currentTarget.elements.filter.value;e((0,u.B)(t))},noValidate:!0,children:(0,d.jsx)(i.Z,{size:"small",margin:"normal",id:"filter",label:"Search",name:"filter",InputProps:{endAdornment:(0,d.jsx)(o.Z,{position:"end",children:(0,d.jsx)(c.Z,{children:(0,d.jsx)(s.Z,{})})})}})})},f=t(1413),h=t(3064),p=t(890),x=t(493),b=t(4852),g=t(653),v=t(3044),Z=t(9900),j=t(7247),y=t(1286),C=t(6172),A=function(e){var n=e.filter,t=e.contacts,r=(0,l.I0)();function a(e){var n,t=0;for(n=0;n<e.length;n+=1)t=e.charCodeAt(n)+((t<<5)-t);var r="#";for(n=0;n<3;n+=1){r+="00".concat((t>>8*n&255).toString(16)).slice(-2)}return r}var i=t.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())}));return(0,d.jsx)(d.Fragment,{children:i.length?(0,d.jsx)(x.Z,{children:i.map((function(e){return(0,d.jsxs)(b.ZP,{secondaryAction:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(c.Z,{edge:"end","aria-label":"edit",onClick:function(){var n;n=e.id,r((0,C.h7)(n))},sx:{mr:1},children:(0,d.jsx)(y.Z,{})}),(0,d.jsx)(c.Z,{edge:"end","aria-label":"delete",onClick:function(){var n;n=e.id,r((0,h.GK)(n))},children:(0,d.jsx)(j.Z,{})})]}),children:[(0,d.jsx)(g.Z,{children:(0,d.jsx)(v.Z,(0,f.Z)({},(n=e.name,{sx:{bgcolor:a(n)},children:"".concat(n[0].toUpperCase())})))}),(0,d.jsx)(Z.Z,{primary:e.name,secondary:e.number})]},e.id);var n}))}):(0,d.jsx)(p.Z,{align:"center",sx:{mt:2},children:"No contact found."})})},k=t(2946),w=t(5391),I=t(9439),S=t(6151),T=t(763),_=t(5218),z=function(){var e=(0,r.useState)(""),n=(0,I.Z)(e,2),t=n[0],o=n[1],c=(0,r.useState)(""),s=(0,I.Z)(c,2),u=s[0],m=s[1],f=(0,r.useCallback)((0,T.debounce)((function(e){return function(e){var n=e.target.value;o(function(e){if(!/^[a-zA-Z\u0105\u0107\u0119\u0142\u0144\xf3\u015b\u017a\u017c\u0104\u0106\u0118\u0141\u0143\xd3\u015a\u0179\u017b]+(([' -][a-zA-Z\u0105\u0107\u0119\u0142\u0144\xf3\u015b\u017a\u017c\u0104\u0106\u0118\u0141\u0143\xd3\u015a\u0179\u017b])?[a-zA-Z\u0105\u0107\u0119\u0142\u0144\xf3\u015b\u017a\u017c\u0104\u0106\u0118\u0141\u0143\xd3\u015a\u0179\u017b]*)*$/.test(e))return"Name may contain only letters, apostrophe, dash and spaces."}(n))}(e)}),200),[]),p=(0,r.useCallback)((0,T.debounce)((function(e){return function(e){var n=e.target.value;m(function(e){if(!/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/.test(e))return"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"}(n))}(e)}),200),[]),x=(0,l.I0)(),b=(0,l.v9)(k.Af);return(0,d.jsxs)(a.Z,{component:"form",onSubmit:function(e){e.preventDefault();var n=e.currentTarget,t=n.elements.name.value.trim(),r=n.elements.number.value;if(b.find((function(e){return e.name.toLowerCase().replace(/\s/g,"")===t.toLowerCase().replace(/\s/g,"")})))(0,_.Am)("".concat(t," is already in contacts!"),{icon:"\u26a0\ufe0f"});else if(b.find((function(e){return e.number.replace(/\s/g,"")===r.replace(/\s/g,"")}))){var a=b.findIndex((function(e){return e.number.replace(/\s/g,"")===r.replace(/\s/g,"")}));(0,_.Am)("".concat(r," is already in contacts! (").concat(b[a].name,")"),{icon:"\u26a0\ufe0f"})}else x((0,h.uK)({name:t,number:r})),n.reset()},display:"flex",flexDirection:"column",children:[(0,d.jsx)(i.Z,{required:!0,margin:"normal",id:"name",label:"Name",name:"name",type:"text",error:!!t,helperText:t,onChange:f}),(0,d.jsx)(i.Z,{required:!0,margin:"normal",id:"phone",label:"Phone number",name:"number",type:"tel",error:!!u,helperText:u,onChange:p}),(0,d.jsx)(S.Z,{variant:"contained",type:"submit",sx:{mt:2},disabled:!!t||!!u,children:"Add contact"})]})},P=t(6907),L=function(e){var n=e.id,t=void 0===n?null:n,o=(0,r.useState)(""),c=(0,I.Z)(o,2),s=c[0],u=c[1],m=(0,r.useState)(""),f=(0,I.Z)(m,2),p=f[0],x=f[1],b=(0,r.useState)(""),g=(0,I.Z)(b,2),v=g[0],Z=g[1],j=(0,r.useState)(""),y=(0,I.Z)(j,2),C=y[0],A=y[1],w=(0,l.I0)(),T=(0,l.v9)(k.Af),z=T.find((function(e){return e.id===t})),P=T.findIndex((function(e){return e.id===t}));return(0,r.useEffect)((function(){Z(z.name),A(z.number)}),[z]),(0,d.jsxs)(a.Z,{component:"form",onSubmit:function(e){e.preventDefault();var n=e.currentTarget,r=n.elements.name.value.trim(),a=n.elements.number.value;if(T.find((function(e){return e.name.toLowerCase().replace(/\s/g,"")===r.toLowerCase().replace(/\s/g,"")}))&&T.findIndex((function(e){return e.name.replace(/\s/g,"")===r.replace(/\s/g,"")}))!==P)return void(0,_.Am)("".concat(r," is already in contacts!"),{icon:"\u26a0\ufe0f"});if(T.find((function(e){return e.number.replace(/\s/g,"")===a.replace(/\s/g,"")}))){var i=T.findIndex((function(e){return e.number.replace(/\s/g,"")===a.replace(/\s/g,"")}));if(i!==P)return void(0,_.Am)("".concat(a," is already in contacts! (").concat(T[i].name,")"),{icon:"\u26a0\ufe0f"})}w((0,h.Tk)({contactId:t,name:r,number:a})),n.reset()},display:"flex",flexDirection:"column",children:[(0,d.jsx)(i.Z,{value:v,required:!0,margin:"normal",id:"name",label:"Name",name:"name",type:"text",error:!!s,helperText:s,onChange:function(e){var n=e.target.value;Z(n),u(function(e){if(!/^[a-zA-Z\u0105\u0107\u0119\u0142\u0144\xf3\u015b\u017a\u017c\u0104\u0106\u0118\u0141\u0143\xd3\u015a\u0179\u017b]+(([' -][a-zA-Z\u0105\u0107\u0119\u0142\u0144\xf3\u015b\u017a\u017c\u0104\u0106\u0118\u0141\u0143\xd3\u015a\u0179\u017b])?[a-zA-Z\u0105\u0107\u0119\u0142\u0144\xf3\u015b\u017a\u017c\u0104\u0106\u0118\u0141\u0143\xd3\u015a\u0179\u017b]*)*$/.test(e))return"Name may contain only letters, apostrophe, dash and spaces."}(n))}}),(0,d.jsx)(i.Z,{value:C,required:!0,margin:"normal",id:"phone",label:"Phone number",name:"number",type:"tel",error:!!p,helperText:p,onChange:function(e){var n=e.target.value;A(n),x(function(e){if(!/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/.test(e))return"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"}(n))}}),(0,d.jsx)(S.Z,{variant:"contained",type:"submit",sx:{mt:2},disabled:!!s||!!p,children:"Edit contact"})]})},q={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4},D=function(){var e=(0,l.v9)(k.Af),n=(0,l.v9)(k.AD),t=(0,l.v9)(k.h3),i=(0,l.v9)(k.rk),o=(0,l.I0)();(0,r.useEffect)((function(){o((0,h.yF)())}),[o]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(P.ql,{children:(0,d.jsx)("title",{children:"PhoneBook Contacts"})}),(0,d.jsx)(m,{}),(0,d.jsx)(A,{contacts:e,filter:n}),(0,d.jsx)(w.Z,{open:t,onClose:function(){o((0,C.Mr)())},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,d.jsx)(a.Z,{sx:q,children:i?(0,d.jsx)(L,{id:i}):(0,d.jsx)(z,{})})})]})}}}]);
//# sourceMappingURL=498.f0e3f069.chunk.js.map